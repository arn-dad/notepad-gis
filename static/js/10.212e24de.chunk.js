(this.webpackJsonpnotepad=this.webpackJsonpnotepad||[]).push([[10],{166:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s=function(e){var t={message:"Something went wrong :(",status:0};return e.response?(console.warn("Request made and server responded"),t.message=e.response.data.message,t.status=e.response.status,console.warn("Response data: ",e.response.data),console.warn("Response status: ",e.response.status),console.warn("Response headers: ",e.response.headers)):e.request?(console.warn("The request was made but no response was received"),console.warn("Request",e.request)):(console.warn("Something happened in setting up the request that triggered an Error"),t.message=e.message,console.warn("Error",e.message)),t}},167:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return o}));var s=a(26),n=a(35),r=a(25),i=a(197),c=a.n(i).a.create({baseURL:"/",timeout:35e3}),o=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"get",value:function(e,t){return c(Object(s.a)({method:"GET",url:e},t))}},{key:"post",value:function(e,t){return c(Object(s.a)({method:"POST",url:e},t))}},{key:"delete",value:function(e,t){return c(Object(s.a)({method:"DELETE",url:e},t))}},{key:"put",value:function(e,t){return c(Object(s.a)({method:"PUT",url:e},t))}},{key:"patch",value:function(e,t){return c(Object(s.a)({method:"PATCH",url:e},t))}}]),e}(),u=a(151),l=a(152),h="https://api.github.com",b="",d=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).base=h,s.routes={gists:"/gists",public:"/gists/public"},e.setAuthorizationToken(b),s}return Object(r.a)(a,[{key:"getGistsList",value:function(e){return this.get(this.routes.gists,Object(s.a)({baseURL:this.base},e))}},{key:"create",value:function(e){return this.post(this.routes.gists,Object(s.a)({baseURL:this.base},e))}},{key:"update",value:function(e,t){return this.patch("".concat(this.routes.gists,"/").concat(e),Object(s.a)({baseURL:this.base},t))}},{key:"getNotepadById",value:function(e){return this.get("".concat(this.routes.gists,"/").concat(e),{baseURL:this.base})}},{key:"deleteById",value:function(e){return this.delete("".concat(this.routes.gists,"/").concat(e),{baseURL:this.base})}},{key:"getGistsPublicList",value:function(e){return this.get(this.routes.public,Object(s.a)({baseURL:this.base},e))}}]),a}(o),g=new(function(){function e(){Object(n.a)(this,e),this.notepad=new d(this)}return Object(r.a)(e,[{key:"setAuthorizationToken",value:function(e){e&&(c.defaults.headers.Authorization="Bearer ".concat(e))}},{key:"removeAuthorizationToken",value:function(){delete c.defaults.headers.Authorization}}]),e}())},425:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var s=a(0),n=a.n(s),r=a(129),i=a(45),c=a(144),o=a(416),u=a(417),l=a(54),h=a(403),b=a(4),d={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},g=function(e){var t=e.data;return Object(b.jsx)(h.a,{data:t,options:d})},f=n.a.memo(g),p=a(195),j=a.n(p),v=a(29),O=a(196),m=a(35),k=a(25),x=a(12),y=a(24),P=a(167),w=a(166),C=a(234),D=a.n(C);function G(e,t){var a=D()(e),s=D()(t);return D.a.duration(a.diff(s))}var L=new(function(){function e(){Object(m.a)(this,e),this.chartData=this.generateChartData([],{label:"Created Gists"}),this.fileChartData=this.generateChartData([],{label:"Created Gists files"}),this.dataPage=0,this.filePage=0,Object(x.d)(this)}return Object(k.a)(e,[{key:"getGistsPublicList",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a,s,n,r,i=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.startProgress(),e.prev=1,this.dataPage=this.dataPage+1,e.next=5,P.b.notepad.getGistsPublicList({params:{page:this.dataPage,per_page:30}});case 5:t=e.sent,a=this.transformGists(t.data),s=this.generateChartData([].concat(Object(v.a)(this.chartData.datasets[0].data),Object(v.a)(a)),{label:"Created Gists"}),Object(x.g)((function(){i.chartData=s})),console.log("getGistsPublicList ~ response",t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),n=Object(w.a)(e.t0),r=n.message,y.a.openAlert({severity:"warning",message:r});case 16:return e.prev=16,y.a.endProgress(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGistsDateFilesRange",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t,a,s,n,r,i=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.startProgress(),e.prev=1,this.filePage=this.filePage+1,e.next=5,P.b.notepad.getGistsPublicList({params:{page:this.filePage,per_page:30}});case 5:t=e.sent,a=this.transformGitsFiles(t.data),s=this.generateChartData([].concat(Object(v.a)(this.fileChartData.datasets[0].data),Object(v.a)(a)),{label:"Created Gists files"}),Object(x.g)((function(){i.fileChartData=s})),console.log("getGistsDateFilesRange ~ response",t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),n=Object(w.a)(e.t0),r=n.message,y.a.openAlert({severity:"warning",message:r});case 16:return e.prev=16,y.a.endProgress(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"transformGists",value:function(e){for(var t=[0],a=e[0].created_at,s=0;s<e.length;s++){G(a,e[s].created_at).asSeconds()<=5?t[t.length-1]=t[t.length-1]+1:(a=e[s].created_at,t.push(1))}return t}},{key:"transformGitsFiles",value:function(e){for(var t=[0],a=e[0].created_at,s=0;s<e.length;s++){var n=G(a,e[s].created_at).asSeconds(),r=Object.keys(e[s].files).length;n<=5?t[t.length-1]=t[t.length-1]+r:(a=e[s].created_at,t.push(r))}return t}},{key:"generateChartData",value:function(e,t){return{labels:e,datasets:[{label:t.label,data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}},{key:"reset",value:function(){this.chartData=this.generateChartData([],{label:"Created Gists"}),this.fileChartData=this.generateChartData([],{label:"Created Gists files"}),this.dataPage=0,this.filePage=0}}]),e}()),R=Object(r.a)((function(e){return{header:{paddingBottom:32},controls:{padding:"10px 0 10px 0"}}})),A=Object(i.a)((function(){var e=R();Object(s.useEffect)((function(){return L.getGistsPublicList(),L.getGistsDateFilesRange(),function(){L.reset()}}),[]);return Object(b.jsxs)(c.a,{maxWidth:"lg",children:[Object(b.jsx)(o.a,{className:e.header,children:Object(b.jsx)(l.a,{variant:"h5",component:"h5",children:"Dashboard"})}),Object(b.jsxs)(o.a,{container:!0,children:[Object(b.jsx)(o.a,{container:!0,lg:6,md:12,spacing:6,children:Object(b.jsxs)(o.a,{container:!0,alignItems:"center",item:!0,children:[Object(b.jsx)(o.a,{item:!0,xs:12,children:Object(b.jsx)(f,{data:L.chartData})}),Object(b.jsx)(o.a,{container:!0,className:e.controls,item:!0,justify:"center",xs:12,children:Object(b.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){L.getGistsPublicList()},children:"Load More gists"})})]})}),Object(b.jsx)(o.a,{container:!0,lg:6,md:12,spacing:6,children:Object(b.jsxs)(o.a,{container:!0,alignItems:"center",item:!0,children:[Object(b.jsx)(o.a,{item:!0,xs:12,children:Object(b.jsx)(f,{data:L.fileChartData})}),Object(b.jsx)(o.a,{container:!0,className:e.controls,item:!0,justify:"center",xs:12,children:Object(b.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){L.getGistsDateFilesRange()},children:"Load More files"})})]})})]})]})}))}}]);
//# sourceMappingURL=10.212e24de.chunk.js.map