(this.webpackJsonpnotepad=this.webpackJsonpnotepad||[]).push([[9],{166:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t={message:"Something went wrong :(",status:0};return e.response?(console.warn("Request made and server responded"),t.message=e.response.data.message,t.status=e.response.status,console.warn("Response data: ",e.response.data),console.warn("Response status: ",e.response.status),console.warn("Response headers: ",e.response.headers)):e.request?(console.warn("The request was made but no response was received"),console.warn("Request",e.request)):(console.warn("Something happened in setting up the request that triggered an Error"),t.message=e.message,console.warn("Error",e.message)),t}},167:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return o}));var a=n(26),r=n(35),s=n(25),i=n(197),c=n.n(i).a.create({baseURL:"/",timeout:35e3}),o=function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,[{key:"get",value:function(e,t){return c(Object(a.a)({method:"GET",url:e},t))}},{key:"post",value:function(e,t){return c(Object(a.a)({method:"POST",url:e},t))}},{key:"delete",value:function(e,t){return c(Object(a.a)({method:"DELETE",url:e},t))}},{key:"put",value:function(e,t){return c(Object(a.a)({method:"PUT",url:e},t))}},{key:"patch",value:function(e,t){return c(Object(a.a)({method:"PATCH",url:e},t))}}]),e}(),u=n(151),l=n(152),d="https://api.github.com",p="",h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).base=d,a.routes={gists:"/gists",public:"/gists/public"},e.setAuthorizationToken(p),a}return Object(s.a)(n,[{key:"getGistsList",value:function(e){return this.get(this.routes.gists,Object(a.a)({baseURL:this.base},e))}},{key:"create",value:function(e){return this.post(this.routes.gists,Object(a.a)({baseURL:this.base},e))}},{key:"update",value:function(e,t){return this.patch("".concat(this.routes.gists,"/").concat(e),Object(a.a)({baseURL:this.base},t))}},{key:"getNotepadById",value:function(e){return this.get("".concat(this.routes.gists,"/").concat(e),{baseURL:this.base})}},{key:"deleteById",value:function(e){return this.delete("".concat(this.routes.gists,"/").concat(e),{baseURL:this.base})}},{key:"getGistsPublicList",value:function(e){return this.get(this.routes.public,Object(a.a)({baseURL:this.base},e))}}]),n}(o),b=new(function(){function e(){Object(r.a)(this,e),this.notepad=new h(this)}return Object(s.a)(e,[{key:"setAuthorizationToken",value:function(e){e&&(c.defaults.headers.Authorization="Bearer ".concat(e))}},{key:"removeAuthorizationToken",value:function(){delete c.defaults.headers.Authorization}}]),e}())},424:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var a=n(0),r=n(129),s=n(144),i=n(416),c=n(45),o=n(417),u=n(69),l=n.n(u),d=n(26),p=n(30),h=n(422),b=n(93),j=n(54),f=n(138),m=n(399),O=n.n(m),v=n(400),g=n.n(v),x=n(420),y=n(401),k=n(426),N=n(402),w=N.b().shape({title:N.c("Title is required").max(255,"Title should be of maximum 255 characters length.").required("Title is required."),notes:N.a().of(N.b().shape({title:N.c("Title is required.").required("Title is required.").max(255,"Title should be of maximum 255 characters length."),note:N.c().required("Note is required.").max(1e3,"Note should be of maximum 1000 characters length.")}))}),T=n(4),q=Object(r.a)((function(e){return{paperWrapper:{padding:16},sectionDivider:{padding:"15px 0 15px 0"},sendBtn:{margin:e.spacing(1)}}})),B=function(e){var t=Object(a.useState)(e.form),n=Object(p.a)(t,2),r=n[0],c=n[1],u=q();return Object(a.useEffect)((function(){c((function(t){return Object(d.a)({},e.form)}))}),[e.form]),Object(T.jsx)(s.a,{maxWidth:"lg",children:Object(T.jsx)(b.a,{className:u.paperWrapper,children:Object(T.jsx)(y.c,{enableReinitialize:!0,initialValues:r,validationSchema:w,onSubmit:function(t){return e.onSave(t)},children:function(e){var t=e.values,n=e.touched,a=e.errors,r=e.handleChange,s=e.handleBlur;e.isValid;return Object(T.jsxs)(y.b,{noValidate:!0,autoComplete:"off",children:[Object(T.jsxs)(i.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(T.jsx)(i.a,{item:!0,xs:12,children:Object(T.jsx)(j.a,{variant:"h6",component:"h6",children:"Notepad"})}),Object(T.jsx)(i.a,{item:!0,xs:12,children:Object(T.jsx)(h.a,{fullWidth:!0,name:"title",label:"Title",variant:"outlined",value:t.title,onChange:r,error:Boolean(a.title),helperText:a.title})})]}),Object(T.jsx)(i.a,{item:!0,className:u.sectionDivider,xs:12,children:Object(T.jsx)(j.a,{variant:"h6",component:"h6",children:"My Notes"})}),Object(T.jsx)(y.a,{name:"notes",children:function(e){var c=e.push,l=e.remove;return Object(T.jsxs)(T.Fragment,{children:[t.notes.map((function(e,c){var o="notes[".concat(c,"].title"),u=Object(y.d)(n,o),d=Object(y.d)(a,o),p="notes[".concat(c,"].note"),b=Object(y.d)(n,p),j=Object(y.d)(a,p);return Object(T.jsxs)(i.a,{container:!0,item:!0,alignItems:"center",spacing:4,xs:12,children:[Object(T.jsx)(i.a,{item:!0,xs:10,children:Object(T.jsx)(h.a,{fullWidth:!0,name:o,label:"Title",variant:"outlined",value:e.title,helperText:u&&d?d:"",error:Boolean(u&&d),onChange:r,onBlur:s})}),Object(T.jsx)(i.a,{container:!0,justify:"center",item:!0,xs:2,children:Object(T.jsx)(f.a,{color:"secondary",disabled:1===t.notes.length,onClick:function(){return l(c)},children:Object(T.jsx)(O.a,{})})}),Object(T.jsx)(i.a,{item:!0,xs:10,children:Object(T.jsx)(h.a,{fullWidth:!0,name:p,label:"Note",multiline:!0,rows:4,variant:"outlined",value:e.note,helperText:b&&j?j:"",error:Boolean(b&&j),onChange:r,onBlur:s})})]},e.id)})),Object(T.jsxs)(i.a,{container:!0,item:!0,className:u.sectionDivider,alignItems:"center",spacing:0,xs:12,children:[Object(T.jsx)(o.a,{className:u.sendBtn,variant:"contained",color:"primary",type:"submit",endIcon:Object(T.jsx)(x.a,{children:"send"}),children:"Save"}),Object(T.jsx)(o.a,{color:"primary",onClick:function(){return c({id:Object(k.a)(),title:"",note:""})},endIcon:Object(T.jsx)(g.a,{}),children:"Add note"})]})]})}})]})}})})})},R=n(3),L=n(195),A=n.n(L),S=n(196),P=n(35),C=n(25),E=n(12),I=n(167),U=n(166),D=n(24),W=["id"],z=new(function(){function e(){Object(P.a)(this,e),this.notepadForm={id:null,title:"",notes:[{id:null,title:"",note:""}]},Object(E.d)(this)}return Object(C.a)(e,[{key:"createNotepad",value:function(){var e=Object(S.a)(A.a.mark((function e(t){var n,a,r,s,i,c=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.a.startProgress(),n=this.prepareNotepad(t),e.prev=2,e.next=5,I.b.notepad.create({data:n});case 5:a=e.sent,D.a.openAlert({message:"Notepad successfully created!"}),r=this.updateLocalNotepadData(a.data.id,a.data),Object(E.g)((function(){c.notepadForm=r})),console.info("createNotepad ~ response",a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=Object(U.a)(e.t0),i=s.message,D.a.openAlert({severity:"error",message:i});case 16:return e.prev=16,D.a.endProgress(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,12,16,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateNotepad",value:function(){var e=Object(S.a)(A.a.mark((function e(t){var n,a,r,s,i,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.a.startProgress(),n=t.id,a=Object(R.a)(t,W),r=this.prepareNotepad(a),e.prev=3,e.next=6,I.b.notepad.update(n,{data:r});case 6:s=e.sent,D.a.openAlert({message:"Notepad successfully updated!"}),console.info("updateNotepad ~ response",s),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),i=Object(U.a)(e.t0),c=i.message,D.a.openAlert({severity:"error",message:c});case 15:return e.prev=15,D.a.endProgress(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,11,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNotepad",value:function(){var e=Object(S.a)(A.a.mark((function e(t){var n,a,r,s,i=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.a.startProgress(),e.prev=1,e.next=4,I.b.notepad.getNotepadById(t);case 4:n=e.sent,a=this.updateLocalNotepadData(t,n.data),Object(E.g)((function(){i.notepadForm=a})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r=Object(U.a)(e.t0),s=r.message,D.a.openAlert({severity:"warning",message:s});case 13:return e.prev=13,D.a.endProgress(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"prepareNotepad",value:function(e){var t=this.createTemplate();return t.description=e.title,t.files.notepad={filename:"notepad",content:JSON.stringify(e)},t}},{key:"reset",value:function(){var e=this;Object(E.g)((function(){e.notepadForm={id:null,title:"",notes:[{id:null,title:"",note:""}]}}))}},{key:"createTemplate",value:function(){return{description:"",public:!0,files:{}}}},{key:"updateLocalNotepadData",value:function(e,t){if(!t.files.notepad)throw new Error("Requires authentication");var n={id:e},a=JSON.parse(t.files.notepad.content);return n.title=a.title,n.notes=a.notes,n}}]),e}()),F=Object(r.a)((function(e){return{header:{paddingBottom:32}}})),G=Object(c.a)((function(e){var t=F();Object(a.useEffect)((function(){var t=e.location.search,n=new URLSearchParams(t).get("id");return n&&z.getNotepad(n),function(){z.reset()}}),[e.location.search]);return Object(T.jsxs)(s.a,{maxWidth:"lg",children:[Object(T.jsx)(i.a,{container:!0,className:t.header,children:Object(T.jsx)(i.a,{children:Object(T.jsx)(o.a,{color:"primary",onClick:function(){e.history.goBack()},startIcon:Object(T.jsx)(l.a,{}),children:"Go Back"})})}),Object(T.jsx)(i.a,{children:Object(T.jsx)(B,{form:z.notepadForm,onSave:function(e){e.id?z.updateNotepad(e):z.createNotepad(e)}})})]})}))}}]);
//# sourceMappingURL=9.6e6cd52b.chunk.js.map